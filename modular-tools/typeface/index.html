<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Editor Tipográfico</title>
  <link rel="stylesheet" href="style.css">
  <script src="https://cdn.jsdelivr.net/npm/opentype.js/dist/opentype.min.js"></script>
</head>
<body class="editor-app">

  <!-- Minimal top nav -->
  <nav class="topbar">
    <span class="topbar-title">Editor</span>
    <div class="topbar-nav">
      <a href="../../index.html" class="nav-link">Inicio</a>
      <a href="../drawing/index.html" class="nav-link">Dibujo libre</a>
      <a href="community.html" class="nav-link">Creaciones</a>
    </div>
  </nav>

  <!-- Editor + alphabet -->
  <main class="editor-main">
    <section class="editor">
      <div class="editor-header">
        <span class="current-letter" id="currentLetterLabel">A</span>
        <span class="grid-info" id="gridInfo">4×4</span>
      </div>
      <div class="canvas-container">
        <canvas id="editorCanvas"></canvas>
      </div>
    </section>

    <aside class="alphabet" id="alphabetPanel">
      <button class="alphabet-toggle" id="alphabetToggle" aria-label="Toggle abecedario">
        <span class="toggle-arrow">→</span>
      </button>
      <div class="alphabet-content">
        <h2>Abecedario</h2>
        <div id="alphabetGrid" class="alphabet-grid"></div>
      </div>
    </aside>
  </main>

  <!-- Bottom controls bar -->
  <div class="bottombar">

    <!-- Letra -->
    <div class="bar-group">
      <span class="bar-label">Letra</span>
      <div class="letter-nav">
        <button id="btnPrevLetter" class="btn-arrow" title="Letra anterior">←</button>
        <select id="letterSelect" class="select-letter"></select>
        <button id="btnNextLetter" class="btn-arrow" title="Letra siguiente">→</button>
      </div>
      <button id="btnClearLetter" class="btn btn-secondary">Limpiar</button>
    </div>

    <!-- Grilla -->
    <div class="bar-group">
      <span class="bar-label">Col</span>
      <div class="stepper">
        <button id="btnDecCols" class="btn-stepper">−</button>
        <span id="colsValue">4</span>
        <button id="btnIncCols" class="btn-stepper">+</button>
      </div>
      <span class="bar-label">Fil</span>
      <div class="stepper">
        <button id="btnDecRows" class="btn-stepper">−</button>
        <span id="rowsValue">4</span>
        <button id="btnIncRows" class="btn-stepper">+</button>
      </div>
    </div>

    <!-- Pincel -->
    <div class="bar-group">
      <span class="bar-label">Pincel</span>
      <label class="toggle-switch">
        <input type="checkbox" id="toggleBrush" checked>
        <span class="toggle-slider"></span>
      </label>
      <div id="brushControls" style="display: block;">
        <input type="color" id="brushColor" class="color-input" value="#000000">
        <select id="brushShape" class="select select-sm"></select>
      </div>
    </div>

    <!-- Proporciones -->
    <div class="bar-group">
      <span class="bar-label">Proporciones</span>
      <label class="toggle-switch">
        <input type="checkbox" id="toggleProportions">
        <span class="toggle-slider"></span>
      </label>
      <div id="proportionsControls" style="display: none;">
        <div class="stepper">
          <span class="bar-sub">x</span>
          <button id="btnDecXHeight" class="btn-stepper">−</button>
          <span id="xHeightValue">2</span>
          <button id="btnIncXHeight" class="btn-stepper">+</button>
        </div>
        <div class="stepper">
          <span class="bar-sub">↑</span>
          <button id="btnDecAscender" class="btn-stepper">−</button>
          <span id="ascenderValue">1</span>
          <button id="btnIncAscender" class="btn-stepper">+</button>
        </div>
        <div class="stepper">
          <span class="bar-sub">↓</span>
          <button id="btnDecDescender" class="btn-stepper">−</button>
          <span id="descenderValue">1</span>
          <button id="btnIncDescender" class="btn-stepper">+</button>
        </div>
        <label class="toggle-switch" title="Guías">
          <input type="checkbox" id="toggleGuides">
          <span class="toggle-slider"></span>
        </label>
      </div>
    </div>

    <!-- Celda -->
    <div class="bar-group">
      <span class="bar-label">Celda</span>
      <div id="cellControls" class="cell-controls" style="display: none;">
        <select id="shapeSelect" class="select select-sm"></select>
        <button id="btnRotate" class="btn">90°</button>
      </div>
      <span id="noCellSelected" class="bar-hint">—</span>
    </div>

    <!-- Preview hidden (JS still references these) -->
    <input id="previewText" type="text" value="hello world :)" maxlength="24" style="display:none;">
    <canvas id="previewCanvas" style="display:none;"></canvas>

    <!-- Acciones -->
    <div class="bar-group bar-actions">
      <button id="btnExportFont" class="btn">OTF</button>
      <button id="btnReset" class="btn btn-secondary">Reset</button>
    </div>

  </div>

  <!-- Context Menu -->
  <div id="contextMenu" class="context-menu" style="display: none;">
    <div class="context-menu-content"></div>
  </div>

  <script src="script.js"></script>
</body>
</html>
